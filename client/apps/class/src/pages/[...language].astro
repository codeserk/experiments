---
import { QuestionnaireView } from '../components/Questionnaire/Questionnaire'
import Welcome from '../components/Welcome.astro'
import Layout from '../layouts/Layout.astro'
import { changeLanguage } from '../util/astro-i18n'

export function getStaticPaths() {
  return [{ params: { language: undefined } }, { params: { language: 'en' } }, { params: { language: 'es' } }]
}

const { language } = Astro.params

changeLanguage(language ?? 'en')
---

<Layout>
  <Welcome />
  <QuestionnaireView client:only="preact" language={(language ?? 'en') as 'es' | 'en'} />
</Layout>
